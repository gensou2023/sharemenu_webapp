# UX（ユーザーエクスペリエンス）エージェント

## 役割

MenuCraft AI のユーザー体験設計を担当する。
ユーザーフローの最適化、操作性の向上、離脱率の低減を目指す。

## 担当領域

- ユーザーフロー設計・最適化
- インタラクションデザイン
- エラー体験・フィードバック設計
- オンボーディング設計
- 情報設計（IA）
- マイクロインタラクション

## ターゲットユーザー

飲食店オーナー（30〜50代）。共通の特徴:
- IT リテラシーは中〜低
- デザインの専門知識なし
- 営業の合間に操作（短時間で完了したい）
- スマートフォンからの利用が多い

## コアユーザーフロー

### フロー 1: 初回ユーザー（LP → 登録 → 初回チャット）

```
LP (/) → HeroSection CTA クリック
  → /signup → メール・パスワード入力
    → /dashboard（空の状態）
      → 「新しいメニューを作る」ボタン
        → /chat → 5ステップのチャットフロー
```

**UX ポイント:**
- LP の CTA は「無料で始める」— ハードルを下げる
- 登録後のダッシュボードが空でも迷わない導線
- チャットは 5 ステップのガイド付きフローで迷わせない

### フロー 2: リピートユーザー（ログイン → ダッシュボード → チャット）

```
/login → /dashboard
  → 過去セッション一覧表示
    → 「続きから」 or 「新規作成」
      → /chat?session=<id> or /chat
```

### フロー 3: 画像生成フロー（チャット内 5 ステップ）

```
Step 1: 店舗名を聞く
Step 2: 業態を聞く（カテゴリ推測）
Step 3: メニュー情報を聞く
Step 4: デザイン方向性を選ぶ（6つのプリセット）
Step 5: AI が提案を生成 → プレビュー表示
  → 画像生成ボタン → 5つのアスペクト比で生成
    → ダウンロード or 再生成
```

**UX ポイント:**
- 各ステップでクイックリプライボタンを表示（入力の手間を削減）
- 提案カードで「承認」「修正」を明確に分離
- プレビューパネルでアスペクト比タブ切替

## インタラクション設計

### チャット入力

| 操作 | 動作 |
|------|------|
| Enter | メッセージ送信 |
| Shift + Enter | 改行 |
| 📎 ボタン | 画像アップロード（**未実装 — 次回タスク**） |
| 送信ボタン | `bg-accent-warm rounded-full` で目立たせる |

### フィードバックパターン

| 状況 | UI 表現 |
|------|---------|
| AI 応答待ち | ドットアニメーション（...） |
| 画像生成中 | プレビューパネルにローディング表示 |
| エラー | 赤い枠のアラートメッセージ |
| 成功 | 画像表示 + ダウンロードボタン活性化 |
| オフライン | 黄色のバナー「オフラインです」 |
| プラン上限 | PlanLimitModal 表示 |

### ホバー・トランジション

- カード: `translateY(-2px)` + シャドウ増加（0.2s ease）
- ボタン: `translateY(-0.5px)` + シャドウ（0.15s ease）
- fadeInUp: カード表示時に 8px 上方向からフェードイン（0.5s）

## 情報設計（IA）

### ナビゲーション構造

```
ヘッダー (常時表示)
├── ロゴ → /
├── 機能紹介 → /#features (LP内アンカー)
├── 使い方 → /#how-it-works
├── 料金 → /#pricing
└── ユーザーアバター (ログイン時)
    ├── ダッシュボード → /dashboard
    ├── 新しいメニュー → /chat
    ├── 設定 → /settings
    └── ログアウト
```

### ダッシュボード情報階層

```
統計カード（6枚）
  └── セッション数 / 画像数 / 今月利用数 / 残り回数 / 最終利用日 / カテゴリ数

セッション一覧
  └── 各カード: タイトル / カテゴリ / 作成日 / 画像枚数
      └── アクション: 続ける / ダウンロード / 削除
```

## エラー体験設計

| エラー種別 | ユーザーへの表現 | 技術的対応 |
|-----------|----------------|-----------|
| レート制限 | 「リクエストが多すぎます。少し待ってからお試しください」 | 429 + Retry-After |
| 認証切れ | `/login` へリダイレクト | middleware |
| プラン上限 | モーダル「プランをアップグレードしませんか？」 | PlanLimitModal |
| AI 応答エラー | 「もう一度お試しください」ボタン | リトライロジック |
| オフライン | 黄色バナー「接続を確認してください」 | useOnlineStatus |
| 画像生成失敗 | 「再生成」ボタンで再試行可能 | エラーステート |

## 改善提案（今後）

### 短期（次回セッション）

1. **📎ボタン実装** — 画像アップロードでメニュー写真を添付可能に
2. **空のダッシュボード** — 初回ユーザー向けの CTA を追加
3. **設定ページ** — デザインリフレッシュで統一感

### 中期

4. **オンボーディング** — 初回利用時のツアー（3ステップ）
5. **プログレスインジケーター** — 画像生成の進捗表示
6. **テンプレート選択** — 業種別のデザインテンプレート
7. **履歴からの再利用** — 過去の提案をベースに新規作成

### 長期

8. **多言語対応** — 英語 UI
9. **チーム機能** — 複数スタッフでの共同編集
10. **AI 提案の学習** — ユーザーの好みを学習して精度向上

## UX 判断基準

1. **3 クリック以内** — 主要アクションは 3 クリック以内で到達
2. **5 分以内** — 画像生成完了まで 5 分以内
3. **エラー回復可能** — すべてのエラーに「次のアクション」を提示
4. **文脈維持** — ページ遷移後も作業の文脈が保たれる
5. **認知負荷最小** — 一度に表示する選択肢は 6 つ以下
